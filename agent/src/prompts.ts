
export const FIELD_MAP: Record<string, string> = {
    a: 'ad_type',
    t: 'title',
    p: 'property_type',
    ta: 'total_area',
    la: 'land_area',
    lt: 'listing_type',
    pr: 'price',
    ad: 'address',
    ra: 'relative_address',
    tf: 'total_floors',
    f: 'floor',
    d: 'details',
    ma: 'mortgage_amount',
    rn: 'rent_amount',
    ds: 'description',
    con: 'contact_name',
    cop: 'contact_phone',
    r: 'rooms',
    ar: 'area',
    ht:'has_tenant'
};
/**
 * تابعی که متن آگهی را دریافت کرده و prompt کامل را برای ارسال به LLM تولید می‌کند.
 * @param text متن ورودی حاوی آگهی‌های ملکی.
 * @returns رشته prompt نهایی.
 */
export function extractEstatePrompt(text: string): string {
    return `اگر متن زیر مربوط به آگهی ملک نیست، فقط مقدار "no" را بازگردان.متن زیر به زبان فارسی است و شامل آگهی‌های ملکی است:
در غیر این‌صورت، تمام آگهی‌های موجود در متن را استخراج کن و برای هر آگهی یک شیء JSON با کلیدهای کوتاه‌شده زیر برگردان.
توجه داشته باش که ممکن است در متن چندین آگهی وجود داشته باشد، در این صورت باید همه آگهی‌ها را جداگانه استخراج کنی و در آرایه JSON قرار دهی.
یک قانون کلی در مورد فیلدهای قیمتی، قیمت ها همه باید بصورت تومات باشند و اگر در متن بصورت ریال اشاره شده تو باید یک صفر کم  کنی، همچنین امکان دارد قیمت ها اختصاری نوشته شود. مثلا بصورت 1230، منظور از این عدد یک میلیارد دویست سی میلیون تومان است که تو باید به عددی بفرستی.

کلیدهای هر آگهی:
- a: نوع آگهی. 1 برای آگهی‌دهنده (offer)، 2 برای درخواست‌کننده (request)
- t: عنوان خلاصه‌شده آگهی. اگر نبود، خودت بساز.
- p: نوع ملک. فقط عدد یکی از این موارد: 1 = آپارتمان، 3 = دفتر کار، 4 = مغازه، 5 = دفاتر صنعتی، 6 = زمین، 7 = سایر
- ta: متراژ ملک به مترمربع. عدد خالص بدون واحد.
- la: متراژ زمین، در صورت ذکر.
- lt: نوع معامله: 1 = اجاره، 2 = فروش
- pr: مبلغ قیمت کل برای اگهی های فروش یا خرید
- ma: مبلغ رهن برای اگهی های اجاره.
- ad: ادرس کامل- در واقع کامل ترین ادرسی که میتونی استخراج کنی را بیار.
- rn: مبلغ اجاره برای اگهی های اجاره.
- ar: نام منطقه، ناحیه، فاز، پروژه یا شهر که در متن به آن اشاره شده است.در نظر داشته باش این فیلد قراره در سیستم مپ استفاده بشه و باید مناسب ان باشه. امکان داره در متن یک اسم خاص باشه که اسم محلیه.
- ds: سایر توضیحات و ویژگی‌های کلیدی که در فیلدهای دیگر پیدا نشد و یا لیست نشد و بنظرت مهمه و پارامتر تاثیر گذاری در یک اگهی املاکی و فروش و اجاره است را به صورت تیتروار استخراج کن  و با - از هم جدا کن و بصورت رشته اضافه کن مثلا اینکه خالیه مدارکش موجوده و.. .
- ra: آدرس نسبی/ناحیه در متن مثل محله کوچه خیابان و یا مجتمع و فاز و ....این فیلد برای جزئیات نسبی از ادرس قراره باشه
- tf: تعداد کل طبقات ساختمان.
- r: تعداد اتاق.
- f:  طبقه ای که در ان قرار دارد. بیشتر برای اپارتمان ها است. طبقه ملک.
- ht:اگر ملک و یا خانه خالی باشد False و اگر دارای سکنه و خالی نباشد و یا اجاره ای داشته باشد True بگذار
- d: ویژگی‌های خاص (full,elevator,deed,per_floor,parking,loan,no_view,no_key). این فیلد را بصورت json تعریف کن بصورتی که هر ویژگی را داشت مقدار ان را true بگذار.
- cop: شماره تماس در متن.
- con: نام فرد و یا بنگاه آگهی‌گذار.

هر آگهی را به صورت یک عنصر در آرایه JSON خروجی برگردان.
متن ورودی:
"""${text}"""`;
}
